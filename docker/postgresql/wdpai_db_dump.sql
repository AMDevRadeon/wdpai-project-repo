--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2 (Debian 17.2-1.pgdg120+1)
-- Dumped by pg_dump version 17.2 (Debian 17.2-1.pgdg120+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: create_normal_user(); Type: FUNCTION; Schema: public; Owner: postgres_admin
--

CREATE FUNCTION public.create_normal_user() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
INSERT INTO user_admin(id) VALUES (new.id);
RETURN new;
END;
$$;


ALTER FUNCTION public.create_normal_user() OWNER TO postgres_admin;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: user_admin; Type: TABLE; Schema: public; Owner: postgres_admin
--

CREATE TABLE public.user_admin (
    id integer NOT NULL,
    is_admin boolean DEFAULT false NOT NULL
);


ALTER TABLE public.user_admin OWNER TO postgres_admin;

--
-- Name: user_data; Type: TABLE; Schema: public; Owner: postgres_admin
--

CREATE TABLE public.user_data (
    id integer NOT NULL,
    email character varying(256) NOT NULL,
    name character varying(128) NOT NULL,
    passhash character varying(182) NOT NULL
);


ALTER TABLE public.user_data OWNER TO postgres_admin;

--
-- Name: admin_data_name_view; Type: VIEW; Schema: public; Owner: postgres_admin
--

CREATE VIEW public.admin_data_name_view AS
 SELECT user_data.name
   FROM (public.user_admin
     LEFT JOIN public.user_data ON ((user_admin.id = user_data.id)))
  WHERE (user_admin.is_admin = true);


ALTER VIEW public.admin_data_name_view OWNER TO postgres_admin;

--
-- Name: chat_connections; Type: TABLE; Schema: public; Owner: postgres_admin
--

CREATE TABLE public.chat_connections (
    id integer NOT NULL,
    is_deleted boolean DEFAULT false NOT NULL,
    name character varying DEFAULT 'Private chat'::character varying
);


ALTER TABLE public.chat_connections OWNER TO postgres_admin;

--
-- Name: chat_connections_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres_admin
--

ALTER TABLE public.chat_connections ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.chat_connections_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: global_chat; Type: TABLE; Schema: public; Owner: postgres_admin
--

CREATE TABLE public.global_chat (
    id integer NOT NULL,
    sent_date timestamp(3) with time zone DEFAULT now() NOT NULL,
    user_id integer NOT NULL,
    message text DEFAULT 'Message was deleted'::text
);


ALTER TABLE public.global_chat OWNER TO postgres_admin;

--
-- Name: global_chat_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres_admin
--

ALTER TABLE public.global_chat ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.global_chat_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: private_chat; Type: TABLE; Schema: public; Owner: postgres_admin
--

CREATE TABLE public.private_chat (
    id integer NOT NULL,
    conversation_id integer NOT NULL,
    sent_date timestamp(3) with time zone DEFAULT now() NOT NULL,
    user_id integer NOT NULL,
    message text DEFAULT 'Message was deleted'::text
);


ALTER TABLE public.private_chat OWNER TO postgres_admin;

--
-- Name: private_chat_connection; Type: TABLE; Schema: public; Owner: postgres_admin
--

CREATE TABLE public.private_chat_connection (
    conversation_id integer NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.private_chat_connection OWNER TO postgres_admin;

--
-- Name: private_chat_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres_admin
--

ALTER TABLE public.private_chat ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.private_chat_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: show_active_private_chat_members; Type: VIEW; Schema: public; Owner: postgres_admin
--

CREATE VIEW public.show_active_private_chat_members AS
SELECT
    NULL::character varying AS name,
    NULL::bigint AS count,
    NULL::text AS string_agg;


ALTER VIEW public.show_active_private_chat_members OWNER TO postgres_admin;

--
-- Name: show_private_chats_of_users; Type: VIEW; Schema: public; Owner: postgres_admin
--

CREATE VIEW public.show_private_chats_of_users AS
 SELECT max((user_data.name)::text) AS user_name,
    private_chat_connection.user_id,
    string_agg((chat_connections.name)::text, ', '::text) AS chatrooms
   FROM ((public.private_chat_connection
     JOIN public.chat_connections ON ((private_chat_connection.conversation_id = chat_connections.id)))
     JOIN public.user_data ON ((private_chat_connection.user_id = user_data.id)))
  WHERE (chat_connections.is_deleted = false)
  GROUP BY private_chat_connection.user_id;


ALTER VIEW public.show_private_chats_of_users OWNER TO postgres_admin;

--
-- Name: user_data_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres_admin
--

ALTER TABLE public.user_data ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_data_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_data_name_view; Type: VIEW; Schema: public; Owner: postgres_admin
--

CREATE VIEW public.user_data_name_view AS
 SELECT user_data.name
   FROM (public.user_admin
     LEFT JOIN public.user_data ON ((user_admin.id = user_data.id)))
  WHERE (user_admin.is_admin = false);


ALTER VIEW public.user_data_name_view OWNER TO postgres_admin;

--
-- Data for Name: chat_connections; Type: TABLE DATA; Schema: public; Owner: postgres_admin
--

COPY public.chat_connections (id, is_deleted, name) FROM stdin;
1	f	Popular Place
2	f	Dungeon
3	t	Deleted
5	t	Numa numa e
4	t	Private chat
6	t	
7	f	Private chat
8	f	Modern
\.


--
-- Data for Name: global_chat; Type: TABLE DATA; Schema: public; Owner: postgres_admin
--

COPY public.global_chat (id, sent_date, user_id, message) FROM stdin;
3	2025-01-18 23:22:14.831+00	1	Halo?
4	2025-01-18 23:29:50.021+00	1	Teraz działa
5	2025-01-18 23:32:56.227+00	1	No i co teraz?
6	2025-01-18 23:33:11.277+00	1	A jak wyślę jeszcze jedną?
7	2025-01-18 23:33:49.115+00	1	Jakoś dziwnie się stało\nTera czas na wieloliniowe wiadomości
8	2025-01-18 23:34:06.855+00	1	Okej rozumiem to jeszcze ignorujesz
9	2025-01-18 23:41:08.169+00	1	Alfa\nBeta\nGamma\nDelta\nEpsilon
10	2025-01-18 23:51:11.347+00	2	Dobra\nJa też coś dodam
11	2025-01-18 23:51:21.393+00	2	Nie ma letko
12	2025-01-18 23:55:24.091+00	1	Teraz to przegiąłeś
13	2025-01-18 23:56:16.361+00	1	Litwo! Ojczyzno moja! ty jesteś jak zdrowie.\nIle cię trzeba cenić, ten tylko się dowie,\nKto cię stracił. Dziś piękność twą w całej ozdobie\nWidzę i opisuję, bo tęsknię po tobie.\nPanno Święta, co jasnej bronisz Częstochowy\nI w Ostrej świecisz Bramie! Ty, co gród zamkowy\nNowogródzki ochraniasz z jego wiernym ludem!\nJak mnie dziecko do zdrowia powróciłaś cudem\n(Gdy od płaczącej matki pod Twoją opiekę\nOfiarowany, martwą podniosłem powiekę\nI zaraz mogłem pieszo do Twych świątyń progu\nIść za wrócone życie podziękować Bogu),\nTak nas powrócisz cudem na Ojczyzny łono.\nTymczasem przenoś moję duszę utęsknioną\nDo tych pagórków leśnych, do tych łąk zielonych,\nSzeroko nad błękitnym Niemnem rozciągnionych;\nDo tych pól malowanych zbożem rozmaitem,\nWyzłacanych pszenicą, posrebrzanych żytem;\nGdzie bursztynowy świerzop, gryka jak śnieg biała,\nGdzie panieńskim rumieńcem dzięcielina pała,\nA wszystko przepasane, jakby wstęgą, miedzą\nZieloną, na niej z rzadka ciche grusze siedzą.
14	2025-01-19 00:06:12.543+00	1	tralala
15	2025-01-19 16:08:20.903+00	3	lalala
16	2025-01-24 14:50:22.076+00	3	ale adminię
17	2025-01-24 15:00:32.038+00	1	No niesamowicie
18	2025-01-27 15:23:31.905+00	1	Czemu Cyprian takie wiadomości spamuje?
19	2025-01-28 13:54:15.121+00	4	To kiedy jakie spotkanko?
20	2025-01-28 13:54:21.684+00	4	Jakie zejście??
21	2025-01-28 13:58:11.568+00	6	Yoo jestem tu nowy!
22	2025-01-28 13:58:38.693+00	3	To dobrze...
\.


--
-- Data for Name: private_chat; Type: TABLE DATA; Schema: public; Owner: postgres_admin
--

COPY public.private_chat (id, conversation_id, sent_date, user_id, message) FROM stdin;
2	1	2025-01-19 13:35:27.354+00	1	Cześć?
3	1	2025-01-19 13:35:45.851+00	2	Elo
4	1	2025-01-24 14:54:12.264+00	3	Guten Tag!
5	1	2025-01-24 15:08:35.678+00	1	Admin co konewrsację podgląda...
6	1	2025-01-24 15:08:44.296+00	1	*konwersację
7	2	2025-01-24 17:43:49.607+00	1	Na co jestem tu dodany?
8	1	2025-01-25 18:17:06.971+00	4	Jak fajnie tu z wami być!!!
9	7	2025-01-26 12:03:09.877+00	5	Można tu pisać!
10	7	2025-01-26 12:03:19.306+00	5	i wszystko widać!
11	7	2025-01-26 12:03:24.454+00	5	bardzo miło
12	2	2025-01-27 12:53:25.807+00	5	W Szczebrzeszynie chrząszcz brzmi w trzcinie, cała wioska z tego słynie, że ta linijka jest bardzo długa, bez żadnego entera i zaraz sprawdzimy, jak to wpływa na stylizowanie tej strony, ponieważ - szanujmy się - niektórzy tak piszą, co musi być uwzględnione w responsywność tej aplikacji
14	2	2025-01-27 15:05:19.515+00	3	AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa
15	2	2025-01-27 15:05:30.141+00	3	AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa
16	2	2025-01-27 15:07:53.229+00	3	AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
17	7	2025-01-27 15:10:18.308+00	3	aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
18	7	2025-01-27 15:10:23.239+00	3	aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
19	2	2025-01-28 13:52:23.654+00	1	<button id="logout">\n    <img src="static/img/svg/power-off-solid.svg" alt="Log off" srcset="">\n</button>
20	1	2025-01-28 13:52:46.128+00	1	Niesamowite, nie?
21	8	2025-01-28 13:53:27.96+00	4	Zostałem sam... :( :((
22	7	2025-01-28 13:53:44.385+00	4	Nie wariujcie :(
23	1	2025-01-28 13:54:02.91+00	4	Niesamowite !!!
24	1	2025-01-28 13:55:14.064+00	2	Nie lubię was\nnikt mnie nigdzie nie wprasza
\.


--
-- Data for Name: private_chat_connection; Type: TABLE DATA; Schema: public; Owner: postgres_admin
--

COPY public.private_chat_connection (conversation_id, user_id) FROM stdin;
3	2
1	1
1	2
1	4
2	1
7	5
1	5
2	5
7	4
8	4
\.


--
-- Data for Name: user_admin; Type: TABLE DATA; Schema: public; Owner: postgres_admin
--

COPY public.user_admin (id, is_admin) FROM stdin;
1	f
2	f
3	t
4	f
5	f
6	f
\.


--
-- Data for Name: user_data; Type: TABLE DATA; Schema: public; Owner: postgres_admin
--

COPY public.user_data (id, email, name, passhash) FROM stdin;
1	litwo@ojczyzno.moja	Adam Mickiewicz	$argon2id$v=19$m=65536,t=4,p=1$UWZMaXZ5eWxoS2RrMUFLag$TckAmujwcxdsGWdzu7eF6EZ1W24fcX+9KLAh6IxEF8g
2	smutno@mi.boze	Juliusz Słowacki	$argon2id$v=19$m=65536,t=4,p=1$eDlaUlVFNXE4VnFxM0ZuTA$O8GDHf3okUL1fPweog0DRqPhsRI75sdsOcgIvhE2A+4
3	teskno@mi.panie	Cyprian Kamil Norwid	$argon2id$v=19$m=65536,t=4,p=1$YWdtcG0wRC5GbUFZSmRoYQ$Ds2Ub0xZEyH6ZdBNHZdmhTWutb8cBfLvr3Z1l46FoNo
4	forty@door.key	Witold Gombrowicz	$argon2id$v=19$m=65536,t=4,p=1$ck1TamJxd0dzLmJrRTY3OQ$MzFcNT5nnTlHNyi+ToKxpMaFab7aV0MOzavCs6RKk0U
5	lalka@ma.walka	Bolesław Prus	$argon2id$v=19$m=65536,t=4,p=1$WEdDNHZEbWY3eDZtaHowaA$3lFNaTYIU39ZfIGqCCbJhAyt2lxZuiqvrK5Nrxgrbz4
6	slawomir.mrozek@gmail.com	Sławomir Mrożek	$argon2id$v=19$m=65536,t=4,p=1$bFRPUlB3N2tRbVZQczdRUQ$6IHQgeDS0eT3n1oE8cHfWS9L1e1fKELil+MyyP0sjHI
\.


--
-- Name: chat_connections_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres_admin
--

SELECT pg_catalog.setval('public.chat_connections_id_seq', 8, true);


--
-- Name: global_chat_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres_admin
--

SELECT pg_catalog.setval('public.global_chat_id_seq', 22, true);


--
-- Name: private_chat_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres_admin
--

SELECT pg_catalog.setval('public.private_chat_id_seq', 24, true);


--
-- Name: user_data_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres_admin
--

SELECT pg_catalog.setval('public.user_data_id_seq', 6, true);


--
-- Name: chat_connections chat_connections_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.chat_connections
    ADD CONSTRAINT chat_connections_pkey PRIMARY KEY (id);


--
-- Name: global_chat global_chat_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.global_chat
    ADD CONSTRAINT global_chat_pkey PRIMARY KEY (id);


--
-- Name: private_chat_connection private_chat_connection_conversation_id_user_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.private_chat_connection
    ADD CONSTRAINT private_chat_connection_conversation_id_user_id_key UNIQUE (conversation_id, user_id);


--
-- Name: private_chat private_chat_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.private_chat
    ADD CONSTRAINT private_chat_pkey PRIMARY KEY (id);


--
-- Name: user_admin user_admin_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.user_admin
    ADD CONSTRAINT user_admin_pkey PRIMARY KEY (id);


--
-- Name: user_data user_data_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.user_data
    ADD CONSTRAINT user_data_pkey PRIMARY KEY (id);


--
-- Name: show_active_private_chat_members _RETURN; Type: RULE; Schema: public; Owner: postgres_admin
--

CREATE OR REPLACE VIEW public.show_active_private_chat_members AS
 SELECT chat_connections.name,
    count(user_data.name) AS count,
    string_agg((user_data.name)::text, ', '::text) AS string_agg
   FROM ((public.chat_connections
     LEFT JOIN public.private_chat_connection ON ((chat_connections.id = private_chat_connection.conversation_id)))
     LEFT JOIN public.user_data ON ((private_chat_connection.user_id = user_data.id)))
  WHERE (chat_connections.is_deleted = false)
  GROUP BY chat_connections.id;


--
-- Name: user_data create_normal_user; Type: TRIGGER; Schema: public; Owner: postgres_admin
--

CREATE TRIGGER create_normal_user AFTER INSERT ON public.user_data FOR EACH ROW EXECUTE FUNCTION public.create_normal_user();


--
-- Name: global_chat global_chat_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.global_chat
    ADD CONSTRAINT global_chat_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.user_data(id);


--
-- Name: private_chat_connection private_chat_connection_conversation_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.private_chat_connection
    ADD CONSTRAINT private_chat_connection_conversation_id_fkey FOREIGN KEY (conversation_id) REFERENCES public.chat_connections(id);


--
-- Name: private_chat_connection private_chat_connection_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.private_chat_connection
    ADD CONSTRAINT private_chat_connection_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.user_data(id);


--
-- Name: private_chat private_chat_conversation_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.private_chat
    ADD CONSTRAINT private_chat_conversation_id_fkey FOREIGN KEY (conversation_id) REFERENCES public.chat_connections(id);


--
-- Name: private_chat private_chat_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.private_chat
    ADD CONSTRAINT private_chat_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.user_data(id);


--
-- Name: user_admin user_admin_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres_admin
--

ALTER TABLE ONLY public.user_admin
    ADD CONSTRAINT user_admin_id_fkey FOREIGN KEY (id) REFERENCES public.user_data(id);


--
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

GRANT USAGE ON SCHEMA public TO rwhead;


--
-- Name: TABLE user_admin; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.user_admin TO rwhead;


--
-- Name: TABLE user_data; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.user_data TO rwhead;


--
-- Name: TABLE admin_data_name_view; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.admin_data_name_view TO rwhead;


--
-- Name: TABLE chat_connections; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.chat_connections TO rwhead;


--
-- Name: TABLE global_chat; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.global_chat TO rwhead;


--
-- Name: TABLE private_chat; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.private_chat TO rwhead;


--
-- Name: TABLE private_chat_connection; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.private_chat_connection TO rwhead;


--
-- Name: TABLE show_active_private_chat_members; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.show_active_private_chat_members TO rwhead;


--
-- Name: TABLE show_private_chats_of_users; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.show_private_chats_of_users TO rwhead;


--
-- Name: TABLE user_data_name_view; Type: ACL; Schema: public; Owner: postgres_admin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.user_data_name_view TO rwhead;


--
-- PostgreSQL database dump complete
--

